# 控制流程
什么是控制流程？可以想象这样一种场景，耳机工厂的流水线，原料进去，不断组装，成品出来。中间的流程需不需要控制？当然需要。如果不控制流程的话，先拼装外壳，然后没法安装核心部件，连接线也进不去。代码也是一样的，一个复杂的流程需要通过各种语法来控制，以得到较好的运行逻辑，最终完成一件事情。

### 3.8.1 块作用域
块区域就是花括号`{}`包括的区域，在这个区域中，变量可以被确定是存在的，就像在火车站，你的工作是有意义的。

每个类都有块区域，块区域中可以有无数小区域，全部由你自己设计。通常的块区域是一个个方法区域，方法的块区域中，也可以像类一样声明变量，但是当方法结束之后，这些局部变量有可能也跟着结束使命。

当然，由于Java变量传递的是值而不是引用或者其他，因此一些方法完成之后，只是清理了变量的值，不会对内存中已经创建的数据进行引用——如果这些数据还在使用的话。

块可以嵌套使用，但一般情况下一个方法内只会有一个块区域，一个类里面没有特别的情况时，也只有一个块区域，除非它要提前初始化，即使用静态块区域做预热工作。

关于类的相关知识，暂且放到第四章学习，这里只是一个概念介绍，不做过多深入。

假若需要在一个块区域内嵌套一个子块区域，那么就要注意了，不能声明相同名字的变量，否则将编译不通过。事实上类似的这种内容，在开发过程中讲解会比较好，这里既然出现，那就记住它，记不住也没有关系，Java的IDE都有编译不通过提示，稍微注意下就好。

### 3.8.2 条件语句
条件语句就是，非此即彼。在开发中，通常使用块语句`{}`将条件判断通过后的执行内容，概括起来，即使那只有一条语句被执行。这是一个良好的习惯，尽管Java的条件语句，不使用块语句`{}`也能够正常工作，但很多时候，你想增加新的执行语句时，你可能会忘记使用`{}`，那么你的逻辑就出现了严重的问题。

很多情况下，需要判断的条件，应该是这样的：如果她是我喜欢的对象，那么我要和她在一起；如果不是，那么我就去找其他人。所以要加上一个`else`来处理“假”的情况，`false`就是假，`if`语句永远处理“真”的情况，`else`永远处理“假”的情况。前面学过与或非的非，如果在`if`判断的条件中使用非语句，那么当条件为假的时候，非语句反转这个假的条件，使之变为真，则进入`if`的执行语句。

`if else`语句通常不要设定得太复杂，如果一个`if`条件优先级比较高，比如在计算除法的时候，需要优先判断除数是否为0，当除数为0的时候，将不能继续完成除法。书中复杂的情况，会是这样：
~~~
  int n = 100;
  int a = 0;
  if (a != 0) {
    int r = 100/a;
    if (r==1) {
      // 除以自身
    } else {
      // 除以非0的整数
    }
  }
~~~
如果使用块语句`{}`就不需要关心`else`与哪个`if`去配对，更讲究的是，任何开发者都不会在同一行上的写多个语句。书中这个地方主要是说明配对的问题，初学者关心一下就好，实际上不存在的。

### 3.8.3 循环
`while`语句实际上相当于`if`吃回头草。判断条件，成立，执行内容，内容执行结束，回头继续吃草（继续判断条件），这样无限循环下来，直到某一次条件不成立，再执行内容之外的语句。如果第一次判断条件不成立，内容将不会执行，每一次的判断都决定内容是否应该执行。

程序清单中，类似于数学应用题。首先知道用户需要的金额，然后了解每年的存入金额和利率，因此前面创建了输入对象，来读取用户输入的需求金额，以及每年存入金额和利率，接着判断每一年是否积累足够的金额，当条件成立（没有满足需求）的情况下，先增加今年存入的金额，然后计算今年的利润（这个利润的计算有问题，但对于题目来说，无需在乎），最后增加到今年的总金额，并对年份自增1年。这个内容执行结束后，继续回到条件判断的地方，假若条件继续成立，那么还会执行一次内容，以此循环下去，直到条件不成立，跳过内容执行的部分，去打印相关信息。

对于`while`语句，它需要先判断条件，有时候希望执行一次，根据执行结果去判断是否继续循环，因此增加了`do while`语句，它的情况是，先执行，再判断。

### 3.8.4 确定循环
`for`循环是对已知次数下的内容做循环，它是明确了执行次数的循环。尽管`while`也能做到类似的事情，但`for`循环更专注于次数的叠加，而不是惶惶不可终日的条件判断。

### 3.8.5 多重选择：switch语句
`switch`语句是一种比`if else`更灵活，更简洁的逻辑判断。`if else`语句与`switch`通常可以互换，它们能表达同一种逻辑，但使用`switch`更灵活，无需重复使用变量去判断，并且从流程上看，更清晰。

### 3.8.6 中断控制流程语句
`goto`和`break`，在java中只会用到`break`，`goto`由于容易脱离控制，几乎没有哪个程序员会使用它，而`break`语句则是为了脱离循环而存在。`continue`语句是为了脱离当前的一次循环，会直接回到判断条件的地方，重新判断，或执行或结束。

关于带标签的`break`语句，在java开发中，几乎没有见过，反正我从未见到有人这样用。所以了解一下就好，后面遇到即使忘了，也有百度。这不是初学者的重点。

### 总结
关于流程控制，实际上需要花点功夫来记忆，方式方法，名称，存在哪些限制。如果记忆不顺畅，建议直接上手练练。跟玩游戏一样，记住怎么出装的最好方式，就是开一局。
